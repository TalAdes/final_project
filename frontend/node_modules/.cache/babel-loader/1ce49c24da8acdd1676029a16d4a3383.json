{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\54646\\\\OneDrive - g.jct.ac.il\\\\\\u05EA\\u05D5\\u05DB\\u05E0\\u05D4 \\u05DC\\u05D0\\u05D9\\u05E0\\u05D8\\u05E8\\u05E0\\u05D8\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8 \\u05D4\\u05E0\\u05D3\\u05E1\\u05EA \\u05EA\\u05D5\\u05DB\\u05E0\\u05D4 \\u05DC\\u05D0\\u05D9\\u05E0\\u05D8\\u05E8\\u05E0\\u05D8\\\\final_project_webengineer backend\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\54646\\\\OneDrive - g.jct.ac.il\\\\\\u05EA\\u05D5\\u05DB\\u05E0\\u05D4 \\u05DC\\u05D0\\u05D9\\u05E0\\u05D8\\u05E8\\u05E0\\u05D8\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8 \\u05D4\\u05E0\\u05D3\\u05E1\\u05EA \\u05EA\\u05D5\\u05DB\\u05E0\\u05D4 \\u05DC\\u05D0\\u05D9\\u05E0\\u05D8\\u05E8\\u05E0\\u05D8\\\\final_project_webengineer backend\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport { sampleProducts } from \"./Data\"; // Methods of this class are used to simulate calls to server.\n\nvar Api =\n/*#__PURE__*/\nfunction () {\n  function Api() {\n    _classCallCheck(this, Api);\n  }\n\n  _createClass(Api, [{\n    key: \"getItemUsingID\",\n    value: function getItemUsingID(id) {\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          var res = sampleProducts.filter(function (x) {\n            return x.id === parseInt(id, 10);\n          });\n          resolve(res.length === 0 ? null : res[0]);\n        }, 500);\n      });\n    }\n  }, {\n    key: \"_sortData\",\n    value: function _sortData(data, sortval) {\n      if (!sortval) return data;\n      var items = JSON.parse(JSON.stringify(data));\n\n      if (sortval === \"lh\") {\n        items.sort(function (a, b) {\n          return a.price > b.price ? 1 : b.price > a.price ? -1 : 0;\n        });\n      } else if (sortval === \"hl\") {\n        items.sort(function (a, b) {\n          return a.price < b.price ? 1 : b.price < a.price ? -1 : 0;\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"searchItems\",\n    value: function searchItems(_ref) {\n      var _this = this;\n\n      var category = _ref.category,\n          term = _ref.term,\n          sortValue = _ref.sortValue,\n          itemsPerPage = _ref.itemsPerPage,\n          popular = _ref.popular,\n          usePriceFilter = _ref.usePriceFilter,\n          minPrice = _ref.minPrice,\n          maxPrice = _ref.maxPrice,\n          page = _ref.page;\n      return new Promise(function (resolve, reject) {\n        minPrice = parseInt(minPrice, 0);\n        maxPrice = parseInt(maxPrice, 0);\n        setTimeout(function () {\n          var data = sampleProducts.filter(function (item) {\n            if (usePriceFilter && (item.price < minPrice || item.price > maxPrice)) {\n              return false;\n            }\n\n            if (category === \"popular\") {\n              return item.popular;\n            }\n\n            if (category !== \"All categories\" && category !== item.category) return false;\n            if (term && !item.name.toLowerCase().includes(term.toLowerCase())) return false;\n            return true;\n          });\n          var totalLength = data.length; // Sort data if needed\n\n          data = _this._sortData(data, sortValue); // Get data from the requested page.\n\n          page = parseInt(page, 0);\n          data = data.slice((page - 1) * itemsPerPage, page * itemsPerPage);\n          resolve({\n            data: data,\n            totalLength: totalLength\n          });\n        }, 500);\n      });\n    }\n  }, {\n    key: \"getDataFromDB\",\n    value: function getDataFromDB() {\n      var url = 'unothorized_read_list';\n      return fetch(url).then(function (x) {\n        return x.json();\n      });\n    }\n  }, {\n    key: \"login_test\",\n    value: function login_test() {\n      var url = 'http://localhost:8080/';\n      return fetch(url).then(function (x) {\n        return x.text();\n      });\n    }\n  }]);\n\n  return Api;\n}();\n\nexport default new Api();","map":{"version":3,"sources":["C:/Users/54646/OneDrive - g.jct.ac.il/תוכנה לאינטרנט/פרויקט גמר הנדסת תוכנה לאינטרנט/final_project_webengineer backend/frontend/src/Api.js"],"names":["sampleProducts","Api","id","Promise","resolve","reject","setTimeout","res","filter","x","parseInt","length","data","sortval","items","JSON","parse","stringify","sort","a","b","price","category","term","sortValue","itemsPerPage","popular","usePriceFilter","minPrice","maxPrice","page","item","name","toLowerCase","includes","totalLength","_sortData","slice","url","fetch","then","json","text"],"mappings":"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","sourcesContent":["import { sampleProducts } from \"./Data\";\n\n// Methods of this class are used to simulate calls to server.\nclass Api {\n  getItemUsingID(id) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        let res = sampleProducts.filter(x => x.id === parseInt(id, 10));\n        resolve(res.length === 0 ? null : res[0]);\n      }, 500);\n    });\n  }\n\n  _sortData(data, sortval) {\n    if (!sortval) return data;\n\n    let items = JSON.parse(JSON.stringify(data));\n\n    if (sortval === \"lh\") {\n      items.sort((a, b) =>\n        a.price > b.price ? 1 : b.price > a.price ? -1 : 0\n      );\n    } else if (sortval === \"hl\") {\n      items.sort((a, b) =>\n        a.price < b.price ? 1 : b.price < a.price ? -1 : 0\n      );\n    }\n\n    return items;\n  }\n\n  searchItems({\n    category,\n    term,\n    sortValue,\n    itemsPerPage,\n    popular,\n    usePriceFilter,\n    minPrice,\n    maxPrice,\n    page\n  }) {\n    return new Promise((resolve, reject) => {\n      minPrice = parseInt(minPrice, 0);\n      maxPrice = parseInt(maxPrice, 0);\n\n      setTimeout(() => {\n        let data = sampleProducts.filter(item => {\n          if (\n            usePriceFilter &&\n            (item.price < minPrice || item.price > maxPrice)\n          ) {\n            return false;\n          }\n\n          if (category === \"popular\") {\n            return item.popular;\n          }\n\n          if (category !== \"All categories\" && category !== item.category)\n            return false;\n\n          if (term && !item.name.toLowerCase().includes(term.toLowerCase()))\n            return false;\n\n          return true;\n        });\n\n        let totalLength = data.length;\n\n        // Sort data if needed\n        data = this._sortData(data, sortValue);\n\n        // Get data from the requested page.\n        page = parseInt(page, 0);\n        data = data.slice((page - 1) * itemsPerPage, page * itemsPerPage);\n\n        resolve({ data, totalLength });\n      }, 500);\n    });\n  }\n\n  getDataFromDB() {\n    var url = 'unothorized_read_list'\n      return fetch(url)\n        .then(x=>x.json())\n  }\n  login_test() {\n    var url = 'http://localhost:8080/'\n      return fetch(url)\n        .then(x=>x.text())\n  }\n\n\n\n}\n\nexport default new Api();\n"]},"metadata":{},"sourceType":"module"}